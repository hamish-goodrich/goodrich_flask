{% extends "base.html" %} 
{% block title %}Create Pond Monitoring Log{% endblock %} 
{% block content %}

<div class="container mt-4">
  <form id="logForm" action="{{ url_for('pond_view.createlog') }}" method="POST">
    <!-- Admin Details Card -->
    <div class="card shadow-lg mb-4">
      <div class="card-header bg-success text-white">
        <h3 class="mb-0">New Log Details</h3>
      </div>
      <div class="card-body row">
        <div class="col-md-6">
          <label><strong>Pond Name</strong></label>
          <input type="text" class="form-control" name="pond_name" required>
          
          <label><strong>Date</strong></label>
          <input type="date" class="form-control" name="date" required>
          
          <label><strong>Time</strong></label>
          <input type="time" class="form-control" name="time" required>
          
          <label><strong>Weather</strong></label>
          <select class="form-control" name="weather">
            <option value="Clear Skies">Clear Skies</option>
            <option value="Broken Clouds">Broken Clouds</option>
            <option value="Scattered Clouds">Scattered Clouds</option>
            <option value="Overcast">Overcast</option>
            <option value="Light Rain">Light Rain</option>
            <option value="Heavy Rain">Heavy Rain</option>
          </select>
          
          <label><strong>Temperature (Â°C)</strong></label>
          <input type="number" class="form-control" name="temperature">
          
          <label><strong>IBC Level (L)</strong></label>
          <input type="number" class="form-control" name="ibc_level">
        </div>
        <div class="col-md-6">
          <label><strong>Flocculant</strong></label>
          <input type="text" class="form-control" name="floc_type">
          
          <label><strong>Unit Type</strong></label>
          <input type="text" class="form-control" name="unit_type">
          
          <label><strong>Client Name</strong></label>
          <input type="text" class="form-control" name="company">
          
          <label><strong>Technician</strong></label>
          <input type="text" class="form-control" name="author">
        </div>
      </div>
    </div>

    <!-- Sample Data (Forebay & Main Pond) -->
    <div class="card shadow-lg mb-4">
      <div class="card-header bg-success text-white">
        <h3 class="mb-0">Forebay Details</h3>
      </div>
      <div class="card-body row">
        <div class="col-md-6">
          <label><strong>pH</strong></label>
          <input type="number" step="0.01" class="form-control" name="forebay_ph">
          
          <label><strong>Turbidity (NTU)</strong></label>
          <input type="number" step="0.01" class="form-control" name="forebay_ntu">
          
          <label><strong>Water Level</strong></label>
          <input type="number" class="form-control" name="forebay_height">
        </div>
        <div class="col-md-6">
          <label><strong>Comments</strong></label>
          <textarea class="form-control" name="forebay_comments"></textarea>
        </div>
      </div>
    </div>

    <div class="card shadow-lg">
      <div class="card-header bg-success text-white">
        <h3 class="mb-0">Main Pond Details</h3>
      </div>
      <div class="card-body row">
        <div class="col-md-6">
          <label><strong>pH</strong></label>
          <input type="number" step="0.01" class="form-control" name="main_ph">
          
          <label><strong>Turbidity (NTU)</strong></label>
          <input type="number" step="0.01" class="form-control" name="main_ntu">
          
          <label><strong>Water Level</strong></label>
          <input type="number" class="form-control" name="main_height">
        </div>
        <div class="col-md-6">
          <label><strong>Comments</strong></label>
          <textarea class="form-control" name="main_comments"></textarea>
        </div>
      </div>
    </div>

    <!-- Save Button -->
    <button type="submit" class="btn btn-success mt-3">Save</button>
    <a href="{{ url_for('pond_view.pond_monitoring') }}" class="btn btn-secondary mt-3">Cancel</a>
  </form>
</div>

<script>
  document.getElementById("logForm").addEventListener("submit", function(event) {
    let inputs = this.querySelectorAll("input[type='number'], input[type='text'], textarea");
    inputs.forEach(input => {
      if (input.value.trim() === "") {
        input.value = "Null";
      }
    });
  });
</script>

{% endblock %}
